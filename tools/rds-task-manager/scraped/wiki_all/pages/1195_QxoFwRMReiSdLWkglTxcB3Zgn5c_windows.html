<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Windows双机热备部署方式及功能简介​</title>
</head>
<body>
<div><script nonce="">
                  (function () {
                     
    function kbe(){var e=window.User&&window.User.userAgent||window.navigator.userAgent||"",n=/FeishuRooms|LarkRooms/i.test(e),r=/(Feishu|Lark)Rooms\sServer/i.test(e),o=/Rooms(?:-\w+)?\/(\d+)/.exec(e),i=!1;o&&o[1]&&(i=Number(o[1])>=7);var a=n&&!r&&window.clientFeatures&&window.clientFeatures["ccm.docx.rooms.hotfixssr"]&&!i,s=1200;if(a&&Math.round(window.innerWidth)!==s){var c=document.querySelector("#ssrBox");if(c){window.roomsHotfixSSRResizeHandler=function(){var e=document.querySelector("#ssrBox");e&&(e.style.zoom=String(window.innerWidth/s))},c.style.zoom=String(window.innerWidth/s),window.addEventListener("resize",window.roomsHotfixSSRResizeHandler);var u=c.querySelector(".bear-web-x-container");if(u){var l=c.clientWidth,d=c.clientHeight;u.style.setProperty("--ssrbox-width","".concat(l,"px")),u.style.setProperty("--ssrbox-height","".concat(d,"px"))}}}}
    kbe()
  
                  })();
            </script></div><div class="page-main synced-new-ui synced-overflow-ui docx-width-mode normal-font-size docx-width-mode-standard" style=""><div class="page-main-item" style="margin-left: 359.5px; margin-right: 359.5px; max-width: 820px; padding-right: 0px; padding-left: 0px;"><div data-block-type="page" data-record-id="Qi7GdWvxzo8PMdxK5CtcDvC4nqh" class="block docx-page-block"><div class="ssr-placeholder-wrapper" id="placeholder-wrapper-SXWqWlHZ"><div class="first-line-placeholder"><span>Type '/' for commands</span></div><div class="page-block root-block" data-slate-editor="true" contenteditable="false" spellcheck="false" data-content-editable-root="true"><div class="zone-container editor-kit-container   outer-controlled-zone" data-zone-id="0" data-zone-container="*" data-slate-editor="true"><div class="page-block-header page-block-header__custom_icon"><div style="display:flex;height:28px" class="page-block-header-top" contenteditable="false"><div contenteditable="false" class="doc-meta-entry-container"><div class="doc-meta-entry-wrapper" style="height:28px"><div style="height:28px"></div></div></div></div><h1 class="page-block-content left flash-block-content" style="line-height:1.625"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132054" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">Windows双机热备部署方式及功能简介</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></h1><div contenteditable="false"><div class="ssr-doc-info-container" style="min-height:46px"><div style="min-height:46px"><div class="ssr-doc-info-content" style="visibility: inherit; height: 100%;"><div class="ssr-doc-info-group ssr-doc-info-group-time"><div class="ssr-doc-info-time-item">Modified March 11</div></div></div><div class="ssr-doc-info-inner-script"><script nonce="">
          window.__SSR_DOC_INFO__ = JSON.parse(decodeURIComponent('%7B%22token%22%3A%22Qi7GdWvxzo8PMdxK5CtcDvC4nqh%22%2C%22owner_user_id%22%3A%227084265477094014978%22%2C%22create_timestamp%22%3A1711242366%2C%22edit_timestamp%22%3A1741685637%2C%22comments_count%22%3A0%2C%22like_count%22%3A0%2C%22pv%22%3A573%2C%22uv%22%3A426%7D'));
          (function eMe(){var e,n,r,o,i=!!new URLSearchParams(null===(e=location)||void 0===e?void 0:e.search).get("edition_id"),a=/opendoc=(true|1)/.test(((null===(n=location)||void 0===n?void 0:n.search)||"").toLowerCase())||((null===(r=location)||void 0===r?void 0:r.pathname)||"").startsWith("/component/"),s=document.querySelector(".ssr-doc-info-content"),c=document.querySelector(".ssr-doc-info-container");if(s&&c)if(a)null===c||void 0===c||c.remove();else{if(i)return null===c||void 0===c?void 0:c.removeChild(s);if(null!==(o=window.anonymousAccess)&&void 0!==o&&o.isAnonymousAccess){var u=document.querySelector(".ssr-doc-info-group-person");if(u){var l=document.querySelectorAll(".ssr-doc-info-group");if(l&&1===l.length)return null===c||void 0===c?void 0:c.removeChild(s);s.removeChild(u);var d=document.querySelector(".ssr-doc-info-group-divider-editor");d&&s.removeChild(d)}}s.style.visibility="inherit"}})();
          </script></div></div></div><div class="block-ssr-fallback doc-ai-summary-ssr-fallback"></div></div></div><div class="page-block-children"><div class="root-render-unit-container" style="position:relative"><div class="render-unit-wrapper"><div data-block-type="heading1" data-record-id="doxcnxDNA05RGHcWhv2ojoV7xed" class="block docx-heading1-block"><div class="highlight-container-ssr"><div class="heading-block"><div class="heading heading-h1 heading-block-align-"><div class="heading-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132055" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">一、功能简介</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnqunnHzALWhgGPKfH4DMOdb" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder" data-zone-id="132056" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="image" data-record-id="doxcng3wV0xYzTAXcF6lZdt3BQh" class="block docx-image-block"><div class="image-block align-center" contenteditable="false" image-token="NTpabgrPFohYbGxRgf1c8sganGe" data-need-render-loading="false"><div class="image-block-width-wrapper flash-block-content" style="width:988px" data-printable="1" data-exportable="1" data-copyable="1"><div class="image-block-container" style="width:988px;padding-top:65.7895%"><div class="resizable-wrapper" contenteditable="false"><div class="img ssr"><img alt="common.docs_name - LarkCCM_Docs_Menu_Image" draggable="false" crossorigin="use-credentials" src="../assets/9a55cb12d52534e0.png" class="docx-image j-drag-cls invisible" width="988" height="650"></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnqPCmOZAGwRBiRmavyElVOc" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132058" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">双机热备能完成 RDS 两台服务器之间实时的数据同步，包括 RDS 数据库 、场景文件、配置文件等。同时，它可以在主服务器发生故障时实现人工或自动切换到备份服务器上继续任务，确保数据的安全性和任务的连续性，而用户使用时无需关注哪一台服务器作为主服务器，以及当前主服务器的ip地址，只需要通过配置好的公共IP访问服务即可。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnB8EjHuPfgIDcWkZ2Thio9b" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132059" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">对于Windows操作系统，主要通过可执行文件 SyncService.exe 来实现文件的实时同步和服务切换和公共IP的配置。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnkrhFgdiyQumg1IL3tPou6d" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder" data-zone-id="132060" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="heading1" data-record-id="doxcnFDnYUQuht2OZagDt8hvFuc" class="block docx-heading1-block"><div class="highlight-container-ssr"><div class="heading-block"><div class="heading heading-h1 heading-block-align-"><div class="heading-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132061" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">二、环境要求及安装方式</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div data-block-type="heading2" data-record-id="doxcn1KOW5PMjvtYWIgQtv1Mz8d" class="block docx-heading2-block"><div class="highlight-container-ssr"><div class="heading-block"><div class="heading heading-h2 heading-block-align-"><div class="heading-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132062" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">1.环境要求</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div class="block-ssr-fallback block " data-block-type="table" data-record-id="doxcnNj8hYP4zI9KQzzn6rDMqXd" style=""><div class="docx-block-loading-container docx-block-loading-container-block-loading"><div class="docx-block-loading align-center"><div class="docx-block-mode"><div class="docx-block-spin" style="transform:scale(0.225) translate3d(0, 0, 0) rotate(-90deg)"><span class="rectangle-1"><span></span></span><span class="circle"></span><span class="rectangle-2"><span></span></span></div></div></div></div></div><div data-block-type="heading2" data-record-id="doxcnVEiOLkdQGEUzsj8rdcoGjd" class="block docx-heading2-block"><div class="highlight-container-ssr"><div class="heading-block"><div class="heading heading-h2 heading-block-align-"><div class="heading-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132095" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">2.安装方式</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnmsTZVoBPpbSfO5t6FFQCWe" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132096" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">Windows下的双机热备目前支持自主安装的方式进行部署。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnaXHKDH3bQM9GUqOyKukJqe" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132097" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">其中自主安装指的是现场人员自行在服务器中安装并激活windows server操作系统，然后在该系统中安装RDS以及双机热备的相关服务。 </span><span data-string="true" class=" author-7084265477094014978 textHighlight textHighlight-pink-text textHighlight-ccmtoken-doc-textcolor-red" data-leaf="true">注：目前仅支持Base包中默认安装的Mariadb数据库。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="heading2" data-record-id="doxcn0OatqvK9dzuFR0f0ocZBng" class="block docx-heading2-block"><div class="highlight-container-ssr"><div class="heading-block"><div class="heading heading-h2 heading-block-align-"><div class="heading-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132098" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">3.安装步骤</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnQQk8Y5sXGLTLGDJJnyTb1f" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132099" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">自主安装方式如下。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="bullet" data-record-id="doxcnpmIDe6J7XzwhDL1kWF4XLg" class="block docx-bullet-block"><div class="highlight-container-ssr"><div class="list-wrapper bullet-list"><div class="list list-style-group-1 list-align-"><div contenteditable="false" class="bullet bulletUnedit"><div class="bullet-dot-style">•</div></div><div class="list-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132100" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" style="font-weight:bold;" class=" author-7084265477094014978" data-leaf="true">现场人员自主安装</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnExyajmoJRj8VhUlVFbfJkd" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132101" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">第一步：安装并激活操作系统。对于该种安装方式，首先需要用户自行准备版本正确的 Windows Server 操作系统并在两台服务器上完成安装和操作系统激活， Windows Server 2016，2019， 2022 等常见版本均支持 。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnxUOXma9YtuOvY7LD8mwAde" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132102" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">第二步：通过Base包安装RDS及双机热备相关服务。详见链接： </span><span class="outer-u-container docx-outer-link-container" data-inline-wrapper="true"><span class=" author-7084265477094014978 link-wrapper link-text-color link-start link-end link-id-132102-0-1" data-leaf="true"><a style="cursor:pointer;text-decoration-skip:none;" class="link contextmenu-without-copyperm" href="https://seer-group.feishu.cn/wiki/ImgPwJ5nXiZKuuk1lHTcsjKCnDf" data-href="https://seer-group.feishu.cn/wiki/ImgPwJ5nXiZKuuk1lHTcsjKCnDf" rel="noopener noreferrer" target="_blank" data-link-node="true"><span data-string="true">windows下的RDS部署方式 </span></a></span></span><span data-string="true" class=" author-7084265477094014978" data-leaf="true">，最终安装后的目录结构如下所示，其中syncService包含了双机热备所需要的软件及相关脚本文件：</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="image" data-record-id="doxcnaLPXMQRDOXHgLorTWNV4Nb" class="block docx-image-block"><div class="image-block align-center" contenteditable="false" image-token="OL95bTqMzoB3m4xaaSacW809nEe" data-need-render-loading="false"><div class="image-block-width-wrapper flash-block-content" style="width:602px" data-printable="1" data-exportable="1" data-copyable="1"><div class="image-block-container" style="width:602px;padding-top:50.3322%"><div class="resizable-wrapper" contenteditable="false"><div class="img ssr"><img alt="common.docs_name - LarkCCM_Docs_Menu_Image" draggable="false" crossorigin="use-credentials" src="../assets/a5ee12fb78329272.png" class="docx-image j-drag-cls invisible" width="602" height="303"></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcncWH1kIDCmiEYdrjSHH23Ig" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132104" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">说明：通过双机热备专属的Base包完成上述安装后，会自动配置相关的环境变量和系统服务，使得双机热备服务能够开机自启，并且在按照下文配置好主备机IP地址和公共IP地址后，在之后的重启中能够让主机自动开启RDS服务。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnMfLdN7ckh5VMxehWAoAjCc" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132105" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">第三步：完成后续配置工作。在完成上述步骤后，在两台服务器上均按照下文步骤完成相关的配置。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div><div data-block-type="heading1" data-record-id="doxcn7ysAFNHyKZfYr2KB2U4wAc" class="block docx-heading1-block"><div class="highlight-container-ssr"><div class="heading-block"><div class="heading heading-h1 heading-block-align-"><div class="heading-content"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132106" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">三、防火墙及文件夹权限设置</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div><div data-block-type="text" data-record-id="doxcnLFJXczdObiqtSljOshsQOg" class="block docx-text-block"><div class="highlight-container-ssr"><div class="text-block-wrapper"><div class="text-block"><div style="text-align:" class="zone-container text-editor hide-placeholder non-empty" data-zone-id="132107" data-zone-container="*" data-slate-editor="true" contenteditable="false"><div class="ace-line" data-node="true" dir="auto"><span data-string="true" class=" author-7084265477094014978" data-leaf="true">1.在文件同步过程中会由于防火墙和文件夹权限问题，使得同步文件受阻，因此需要关闭防火墙并开放同步文件夹的操作权限。点击“开始”→“控制面板”→“系统和安全”→“Windows Defender防火墙”→“启用或关闭Windows防火墙”→选择“关闭Windows防火墙”，点击“确定”即可。</span><span data-string="true" data-enter="true" data-leaf="true">​</span></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div><script nonce="">
              (function () {
                /* 用IIFE包一下，防止编译混淆后变量重复 */
                const catalogRecordInfo = window.catalogRecordInfo || {};
                (function(){
                  const pageContainer = document.querySelector('.bear-web-x-container');
    window._block_ssr_metrics = {};
    const pageItem = document.querySelector('.page-main-item .docx-page-block');
    if (!pageContainer || !pageItem) {
        return;
    }
    function debounce(func, wait) {
        var timeout, result;

        var debounced = function() {
          var context = this;
          var args = arguments;
          if (timeout) clearTimeout(timeout);
          timeout = setTimeout(function() {
                result = func.apply(context, args);
          }, wait);
          return result;
        }
        return debounced;
    }
    window.reCalculateLayout = debounce(function(){
        const pageContainer = document.querySelector('.bear-web-x-container');
        const pageItem = document.querySelector('.page-main-item .docx-page-block');
        if (!pageContainer || !pageItem) {
            return;
        }
        window.pageContainerRect = pageContainer.getBoundingClientRect();
        window.pageItemRect = pageItem.getBoundingClientRect();
        window.scrollbarWidth = pageContainer.offsetWidth - pageContainer.clientWidth;
    }, 50);
    window.addEventListener('resize', function () {
        window.reCalculateLayout();
    });
    window.blockSSRLayoutHelper = {};
    
                })();
                (function (){
                  
  function handleSSRImage(e){if(e){const n=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),r=(e,r)=>{e.style.setProperty("visibility","visible");const o=()=>{e.style.setProperty("background","#FFF"),r()};n?setTimeout((()=>{o()})):o()};e.querySelectorAll(".docx-image-block").forEach((e=>{const{recordId:n}=e.dataset,o=e.querySelector("img.docx-image");if(n&&o){const e=()=>{window._block_ssr_metrics&&(window._block_ssr_metrics[n]=Date.now())};if(o.complete&&"number"===typeof o.naturalWidth&&o.naturalWidth>0)return void r(o,e);o.addEventListener("load",(()=>{r(o,e)}))}}))}}
  Object.assign(window.blockSSRLayoutHelper || {}, { handleSSRImage })
  function gS(){var e=document.querySelector("#ssrBox");e&&window.blockSSRLayoutHelper.handleSSRImage(e)}
  gS();
  
                })();
                (function (){
                  
  function tS(e,n){var r=n.containerWidth,o=n.widthMode,i=n.isViewEditors,a=n.sideBarWidth,s=n.isShowCatalogue,c=n.prevCatalogMaxWidth,u=n.isDocxWidthModeAnimationEnabled,l=n.isCardModeOrInIframe;e.EDITOR_MIN_EXTRUDING_WIDTH=l?e.EDITOR_MIN_EXTRUDING_WIDTH_PHOENIX:e.EDITOR_MIN_EXTRUDING_WIDTH_ORIGINAL;var d=r>=540?e.PAGE_MAIN_PADDING:e.NARROW_PAGE_MAIN_PADDING;function p(){var e,n,r,o,i,a;return(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.margin)||void 0===a?void 0:a.left)||0}if(r<440&&function(){var e=new URL(window.location.href),n=e.searchParams.get("doc_app_id")||e.searchParams.get("scene_id");return"201"===n}()&&(d=e.NARROW_PAGE_ROOMS_MAIN_PADDING),function(){var e,n,r,o,i,a;return!(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.margin)||void 0===a||!a.enable)}()){var f={catalogAreaWidth:144,contentMarginLeft:p(),contentCssMarginLeft:p(),contentCssMarginRight:function(){var e,n,r,o,i,a;return(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.margin)||void 0===a?void 0:a.right)||0}(),forceAbstract:!0,contentCssWidth:0};return f.contentCssWidth=r-f.contentCssMarginLeft-f.contentCssMarginRight,f}return function(){var n={large:1020,standard:820},l=void 0===c?e.CATALOGUE_MAX_UNFOLD_WIDTH:c,p={marginLeft:0,marginRight:0},f=d,m=d,h=f+a,_=d+e.AUTHOR_AREA_WIDTH,g=r<e.CATALOGUE_RESPONSE_MIN_WIDTH+(i?_:m)+e.EDITOR_MIN_EXTRUDING_WIDTH+h;switch(o){case"full":p.marginRight=h;var v=r-p.marginRight-e.EDITOR_MIN_EXTRUDING_WIDTH;p.marginLeft=Math.max(Number(s&&!g)*Math.min(v,e.CATALOGUE_MAX_UNFOLD_WIDTH+m),m,Number(i)*_);var b=p.marginLeft-(i?_:m);l=g||!s?l:b;break;case"standard":case"large":var M=0,y=0;if(s){var E=r-h;if(E>=e.CATALOGUE_MAX_UNFOLD_WIDTH+e.EDITOR_MIN_EXTRUDING_WIDTH+m){var T=Math.min(r-e.CATALOGUE_MAX_UNFOLD_WIDTH-m,n[o]),O=r-T;a&&O/2<h?(M=h,O-=h,y=Math.max(O,e.CATALOGUE_MAX_UNFOLD_WIDTH+m)):O/2<e.CATALOGUE_MAX_UNFOLD_WIDTH+m?(O-=e.CATALOGUE_MAX_UNFOLD_WIDTH,y=e.CATALOGUE_MAX_UNFOLD_WIDTH+Math.max(m,O/2),M=Math.max(O/2,h)):(M=O/2,y=O/2),l=y-(i?_:m)}else if(E>=e.CATALOGUE_RESPONSE_MIN_WIDTH+e.EDITOR_MIN_EXTRUDING_WIDTH+(i?_:m))M=h,l=(y=r-e.EDITOR_MIN_EXTRUDING_WIDTH-M)-(i?_:m);else{g=!0;var A=Math.min(r-m-h,n[o]),S=r-A;S-=M=a?h:Math.max(S/2,h),y=Math.max(S,m,Number(i)*_)}}else{var w=Math.min(r-h-m,n[o]),I=r-w;M=a&&I/2<a+f?a+(I-=a)/2:I/2,y=I/2,i&&I<2*e.AUTHOR_AREA_WIDTH&&(y=e.AUTHOR_AREA_WIDTH,M=Math.max(Math.max(I-y,0),h)),y=Math.max(y,m,Number(i)*_)}if(!u){var x=M+y,j=M===y&&x>=2*(e.COMMENT_SIDEBAR_WIDTH+m);!j&&s&&!g&&y-m>a&&!a?M=x-(y=a+m):!j&&a&&M>h&&(!s||g)&&(M=x-(y=x-h)),l=Math.min(y-(i?_:m),e.COMMENT_SIDEBAR_WIDTH,l)}p.marginRight=M,p.marginLeft=y}e.debug&&(console.log("ssrCalcWidthLayout ".concat(u)),console.log("ssrCalcWidthLayout catalogAreaWidth:".concat(l)),console.log("ssrCalcWidthLayout contentCssMarginLeft:".concat(p.marginLeft)),console.log("ssrCalcWidthLayout contentCssMarginRight:".concat(p.marginRight)),console.log("ssrCalcWidthLayout forceAbstract:".concat(g)));var L={catalogAreaWidth:l,contentMarginLeft:p.marginLeft,contentCssMarginLeft:p.marginLeft,contentCssMarginRight:p.marginRight,forceAbstract:g,contentCssWidth:0},k=r-L.contentCssMarginLeft-L.contentCssMarginRight;return L.contentCssWidth="full"===o?k:Math.min(k,n[o]),L}()};
  function nS(e,n,r){var o=e.CATALOGUE_PIN_HEIGHT,i=e.CATALOGUE_ITEM_PADDING_BOTTOM+e.CATALOGUE_UL_PADDING_BOTTOM,a=r-o-i,s=(n-a)/2-o;if(s=Math.max(0,s),e.debug){var c="".concat(Math.floor(s)," = Math.max(0, (").concat(n," - ").concat(Math.floor(a),") / 2 - ").concat(o,")"),u="".concat(Math.floor(a)," = ").concat(Math.floor(r)," - ").concat(Math.floor(o+i));console.log("layout:ssrCalcCatalogTop: ".concat(c,", ").concat(u))}return s};
  function rS(e){return!!(window.User&&window.User.clientFeatures||{})[e]};
  function oS(e,n){var r=window.collectEvent||window.htmlCollectEvent;r&&(window.requestIdleCallback||window.setTimeout)((function(){r(e,n)}))};
  
  function layoutSingleTable(e,n,r){var o,i,a,s;const{pageContainer:c,config:u,cWidth:l,margin:d,scrollLayout:p,contentScrollItemRight:f,bodyClientRect:m,tableElementRight:h}=r,_=e.getAttribute("data-record-id"),g=e.querySelector(".scrollable-wrapper"),v=e.querySelector(".scrollable-container"),b=e.querySelector(".scrollable-item"),M=e.querySelector(".content-scroller"),y=e.querySelector("table"),E=e.querySelector(".right-shadow");if(e.style.display="",!_||!g||!v||!b||!M||!y||!E)return;const T=parseFloat(window.getComputedStyle(M).paddingLeft)||0;let O=0,A=null!=(i=null==(o=e.parentElement)?void 0:o.closest(".block"))?i:null;for(;A&&"page"!==A.getAttribute("data-block-type");)O+=1,A=null!=(s=null==(a=A.parentElement)?void 0:a.closest(".block"))?s:null;if(u.correctSyncedBlockNesting){const[n]=u.checkInBlock(e,"synced_source",c);n&&(O=Math.max(0,O-1))}const S=25*O,w=!Boolean(A&&"page"===A.getAttribute("data-block-type")),[I,x]=u.checkInBlock(e,"grid_column",c);if(e.style.overflow="visible",I||w){const r=4,o=I?x.getBoundingClientRect().width-r:e.clientWidth;g.style.width=`${o}px`,v.style.width=`${o}px`,M.style.maxWidth=u.usePreciseMaxWidth?`${o+T}px`:`${o}px`,p[_]={width:o,margin:0},u.handleShadow&&(E.style.opacity=f[n]<h[n]?"0":"1")}else g.style.width=`${l}px`,g.style.left=`-${d+S}px`,v.style.width=`${l}px`,b.style.left=`${d+S}px`,M.style.maxWidth=u.usePreciseMaxWidth?`${l+T}px`:`${l}px`,p[_]={width:l,margin:d+S},u.handleShadow&&(E.style.opacity=f[n]<m.right?"0":"1")};
  function layoutTable(e){const{ssrBox:n}=e;if(!n)return;const r=n.querySelectorAll('[data-block-type="table"]');if(0===r.length)return;const o=n.querySelector(".bear-web-x-container"),i=n.querySelector(".page-main-item > .docx-page-block")||n.querySelector(".page-main > .docx-page-block");if(!o||!i)return;const a={};Object.assign(window,{HYDRATE_SCROLL_LAYOUT:a});const{cWidth:s,margin:c}=e.calculateDimensions(o,i),u=[],l=[];for(let p=0;p<r.length;p++){const e=r[p],n=e.querySelector(".content-scroller");n?(u[p]=n.getBoundingClientRect().right,l[p]=e.getBoundingClientRect().right):(u[p]=0,l[p]=0)}r.forEach((e=>{e.style.display="none"}));const d={pageContainer:o,scrollLayout:a,cWidth:s,margin:c,config:e,contentScrollItemRight:u,tableElementRight:l,bodyClientRect:document.body.getBoundingClientRect()};for(let p=0;p<r.length;p++)layoutSingleTable(r[p],p,d)};
  function computeWhiteboardBlockSize(e,n,{containerWidth:r,containerHeight:o,isMobile:i}){const{viewport:a,blockWidth:s,blockHeight:c,emptyText:u,snapshotWidth:l,snapshotHeight:d}=getWhiteboardDataFromElement(e),p=e.clientWidth+2,f=i?Math.min(window.screen.width,window.screen.height)-52:2048,m=n?r:Math.min(s,p,f);let h=n?o:Math.min(c/s*m,2*o,f);i&&p>m&&"0"===l&&"0"===d&&(h=n?o:Math.min(c/s*p,2*o,f));const _=n?{left:98,top:70,bottom:82,right:0,padding:48}:{left:0,top:0,bottom:0,right:0,padding:50},{width:g,height:v}=a;let b=1;return g>0&&v>0&&(b=Math.min((m-_.padding-_.left-_.right)/g,(h-_.padding-_.top-_.bottom)/v),b=Math.min(b,1),b=Math.max(b,.02)),{blockWidth:m,blockHeight:h,viewport:a,scale:b,emptyText:u}};
  function loadWhiteboardImage(e,n,r){const o=e.querySelector("img"),i=null==o?void 0:o.src;if(!o||!i)return;const a=n/r.scale/2;let s,c=`scale(${a})`;if("top"===r.tag){c=`scale(${a}) translate(0, ${(2560-r.height*r.scale*2)/2}px)`}o.style.transform=c;try{if(!i.startsWith("docsource://"))return;const e=i.replace(/^docsource:\/\//,"https://"),n=new URL(e);n.searchParams.set("notIntercept","true"),s=n.toString()}catch(Xq){return void console.error("Invalid image URL:",i,Xq)}o.src=s};
  function layoutWhiteboardBlock(e,n,r){const o=e.querySelectorAll(".whiteboard-block-ssr-layer");let i=!1;return o.forEach((e=>{const o=e.querySelector(".whiteboard-block-ssr-content")||document.createElement("div"),a=e.querySelector(".block-ssr-fallback");if(a)return void(a.style.display="none");const{width:s,height:c}=n,{blockWidth:u,blockHeight:l,viewport:d,scale:p,emptyText:f}=computeWhiteboardBlockSize(o,!1,{containerWidth:s,containerHeight:c,isMobile:r});e.style.width=`${Math.round(u)}px`,e.style.height=`${Math.round(l)}px`,i=!0;const m=e.querySelector(".whiteboard-block-empty-text");m?m.textContent=f:loadWhiteboardImage(o,p,d)})),i};
  function layoutFullscreenWhiteboard(){document.querySelectorAll(".whiteboard-block-ssr-full-layer").forEach((e=>{const n=e.querySelector(".whiteboard-block-ssr-content")||document.createElement("div"),r=e.querySelector(".block-ssr-fallback");if(r)return void(r.style.display="none");n.style.margin="24px 24px 0";const{viewport:o,scale:i}=computeWhiteboardBlockSize(n,!0,{containerHeight:document.body.clientHeight,containerWidth:document.body.clientWidth});loadWhiteboardImage(n,i,o)}))};
  function getWhiteboardDataFromElement(e){const{viewportWidth:n,viewportHeight:r,viewportScale:o,viewportTag:i,blockWidth:a,blockHeight:s,emptyText:c,snapshotWidth:u,snapshotHeight:l}=e.dataset;return{viewport:{width:Number(n||0),height:Number(r||0),scale:Number(o||1),tag:i||""},blockWidth:Number(a||0),blockHeight:Number(s||0),emptyText:c||"Empty Board",snapshotWidth:u,snapshotHeight:l}};
  function GA(){var e,n=(null===(e=window)||void 0===e?void 0:e.__theme__)||"light";"system"===n&&(n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return n};
  function layoutChartBlock(e,n){var r,o,i;if(!e)return;const{theme:a,containerHeight:s,language:c,getChartThumbnailUrl:u,computeImgHeight:l}=n,d=e.querySelectorAll(".chart-block-ssr-layer"),p=d.length;for(let f=0;f<p;f++){const e=d[f],n=e.querySelector(".chart-block-big-loading"),p=e.querySelector(".chart-block-small-loading"),m=e.querySelector(".chart-block-ssr-content"),{objToken:h,chartToken:_}=m.dataset,{blockWidth:g,blockHeight:v}=computeChartBlockSize(e,m,s),b=(null==(o=null==(r=e.parentElement)?void 0:r.parentElement)?void 0:o.dataset.blockType)||"";e.parentElement&&(e.parentElement.style.width="100%",(null==(i=e.parentElement)?void 0:i.parentElement)&&(e.parentElement.parentElement.style.width="100%"));const M=getIsNoPerm(m,b);if(!h||!_||M){e.classList.add("chart-ssr-invalid");continue}const y=getChartThumbnailBaseUrl({blockType:b,targetWidth:g,targetHeight:v,chartToken:_,fromToken:h,language:c});if(!y)continue;const E=u(y),T=document.createElement("img"),O=l(v,b);T.classList.add("chart-block-thumbnail"),"dark"===a&&T.classList.add("chart-block-thumbnail-dark"),Object.assign(T.style,{width:"100%",borderRadius:"6px",objectFit:"contain",height:`${O}px`}),Object.assign(m.style,{height:`${O}px`,justifyContent:"center"}),n.style.display="none",p.style.display="block",Object.assign(e.style,{minHeight:`${v}px`,height:"auto",width:`${g}px`}),e.dataset.actualWidth=String(g),e.dataset.actualHeight=String(v),m.appendChild(T);const A=()=>{e.classList.add("chart-ssr-invalid"),T.style.display="none"};T.dataset.startTime=String(Date.now()),T.onload=()=>{1!==T.naturalWidth||1!==T.naturalHeight?T.dataset.endTime=String(Date.now()):A()},T.onerror=A,T.dataset.src=E,T.fetchPriority="high",T.src=E}};
  function computeChartBlockSize(e,n,r){const{blockWidth:o,blockHeight:i}=n.dataset,a=Number(null!=o?o:0),s=Number(null!=i?i:0),c=Math.min(a,e.clientWidth+2),u=s/a*c,l=Math.min(u,2*r,2048);return{blockWidth:Math.round(c),blockHeight:Math.round(l)}};
  function getIsNoPerm(e,n){var r,o;try{const i=e.getAttribute("data-inject-data")||"{}",a=JSON.parse(i),s=1,c="chart_embedded",u="chart_refer",l="chart_refer_host_perm",{permissionMeta:d,dataMeta:p,dataSnapshot:f}=a;return!(d&&p&&f)||(n!==u||!(null==(r=d.permCodes)?void 0:r.includes(s)))&&((n!==l||!(null==(o=d.chartPermCodes)?void 0:o.includes(s)))&&n!==c)}catch(Xq){return!0}};
  function getChartThumbnailBaseUrl(e){const{blockType:n,targetWidth:r,targetHeight:o,chartToken:i,fromToken:a,language:s}=e;try{const e=new URLSearchParams({from_token:a,from_type:"22",block_type:n,query:`height=${o}&lang=${s}&width=${r}`});return`space/api/file/f/cdp-chart-${i}~noop/?${e.toString()}`}catch(Xq){return null}};
  function layoutFileBlocks({containerSelector:e,checkInBlock:n,editRect:r,getMinDisplayWidth:o,getMinDisplayHeight:i,isH5:a}){Array.from(document.querySelectorAll(`${e} [data-block-type="file"]`)).forEach((e=>{const s=e.querySelector(".preview-wrap"),c=e.querySelector(".ssr-box-preview-cover"),u=n(e,"grid_column"),l=u[0],d=n(e,"table_cell"),p=d[0],f=null==s?void 0:s.classList.contains("preview-type-audio"),m=null==s?void 0:s.classList.contains("preview-type-video");if(f&&e.classList.add("is-in-audio-v2"),m&&e.classList.add("is-in-video-v2"),!c)return;if(a)return void function(e,n,r){const{wrapper:o,cover:i}=e,{inGrid:a,inTable:s}=n;let c;c=a[0]?a[1].getBoundingClientRect().width-4:s[0]?s[1].getBoundingClientRect().width:r.width;const u=null==o?void 0:o.querySelector(".preview-content");u&&(u.style.height="100%"),i.style.width=`${c}px`,i.style.height="320px";const l=i.querySelector("img");l&&(l.style.width="100%",l.style.height="100%",l.style.objectFit="cover",l.style.objectPosition="top")}({cover:c,wrapper:s},{inGrid:u,inTable:d},r);const h=parseFloat(c.style.width),_=parseFloat(c.style.height),g=h/_;let v=Math.min(h,r.width),b=_;if(l){const e=u[1].getBoundingClientRect().width-4;v=Math.min(v,e)}if(p){const e=d[1].getBoundingClientRect().width;v=Math.min(v,e)}if(m){const e=o(),n=i();v=Math.max(v,e),b=v/g,b<n&&(b=n)}else{const e=409;b=Math.min(b,e)}c.style.width=`${v}px`,c.style.height=`${b}px`}))};
  Object.assign(window.blockSSRLayoutHelper || {}, {
    layoutTable: layoutTable,
    layoutWhiteboardBlock: layoutWhiteboardBlock,
    layoutFullscreenWhiteboard: layoutFullscreenWhiteboard,
    layoutChartBlock: layoutChartBlock,
    layoutFileBlocks: layoutFileBlocks,
  });
  
  const XA = function XA(e){var n=String(e.getItem("debug")).trim().split(",");return n.includes("layout")||n.includes("*")};
  const iS = function iS(e,n){var r,o,i,a,s,c,u,l,d,p,f,m,h,_,g,v,b,M,y,E,T,O=n.terminal,A=n.isEmptyCatalog,S=n.widthModeFromClientVar,w=n.isDisableExpandState,I=performance.now(),x=document.querySelector("#ssrBox .page-main"),j=document.querySelector("#ssrBox .page-main-item"),L=document.querySelector("#ssrBox .page-main-item > .docx-page-block"),k=document.querySelector("#ssrBox .bear-web-x-container"),N=document.querySelector("#ssrBox .catalogue-container"),C=document.querySelector("#ssrBox .catalogue"),D=document.querySelectorAll('#ssrBox [data-block-type="table"]'),R=document.querySelectorAll('#ssrBox [data-block-type="sheet"]'),z=document.querySelectorAll('#ssrBox [data-block-type="bitable"]'),P=document.querySelectorAll('#ssrBox [data-block-type="task_list"]'),U="true"===new URLSearchParams(location.search).get("isWikiIframe");if(x&&j&&k&&L){e.EDITOR_MIN_EXTRUDING_WIDTH=520,e.EDITOR_MIN_EXTRUDING_WIDTH_ORIGINAL=e.EDITOR_MIN_EXTRUDING_WIDTH;var F=rS("ccm.docx.web.page_main_animation_enable"),B=rS("ccm.docx.lark_show_catalog"),W=k.clientWidth,H=function(e){var n;try{n=window[e];var r="__storage_test__";return n.setItem(r,r),n.removeItem(r),!0}catch(hB){return hB instanceof DOMException&&(22===hB.code||1014===hB.code||"QuotaExceededError"===hB.name||"NS_ERROR_DOM_QUOTA_REACHED"===hB.name)&&n&&0!==n.length}}("localStorage");if(H)try{!function(){if(window&&rS("ccm.docx.mention_doc_update")&&window.User&&window.User.id){var e,n=window.User.id;!function(e){e[e.UNSET=0]="UNSET",e[e.EMOJI=1]="EMOJI",e[e.ICON=2]="ICON",e[e.CUSTOM=3]="CUSTOM"}(e||(e={}));var r=String.fromCharCode(122),o=performance.now(),i=document.getElementById("ssrBox");if(i){var a=Array.from(i.querySelectorAll(".mention-doc")),s=new Set,c=new Set,u=0;a.forEach((function(n){var r,o,i,a,f;if(n.dataset&&n.dataset.token){var m=n.dataset,h=m.token,_=m.iconInfo,g=_&&"null"!==_?JSON.parse(_):void 0;s.add(h);var v=l(h);if(v){c.add(h),u++;var b=n.querySelector(".text");b&&v.title&&b.textContent!==v.title&&(b.textContent=v.title),b&&b.textContent&&(b.textContent=b.textContent.replace(/\n/g,""))}if(rS("ccm.icon.suite_custom_icon")&&(v||g)){var M=null!==(r=null===v||void 0===v||null===(o=v.iconInfo)||void 0===o?void 0:o.type)&&void 0!==r?r:null===g||void 0===g?void 0:g.type,y=null!==(i=null===v||void 0===v||null===(a=v.iconInfo)||void 0===a?void 0:a.key)&&void 0!==i?i:null===g||void 0===g?void 0:g.key,E=n.querySelector(".old-doc-icon"),T=null===(f=E)||void 0===f?void 0:f.parentElement,O=function(n,r){var o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d();switch(n){case e.EMOJI:o=r?p(r):"";break;case e.ICON:o="".concat(i,"/").concat(r);break;default:o=""}return{type:n,key:o}}(M,y),A=O.type,S=O.key;if(E&&T&&A&&S){T.removeChild(E);var w=document.createElement("span");w.classList.add("custom-icon","gpf-biz-suite-custom-icon__icon-wrapper"),w.style.setProperty("--wrapper-size","1em"),w.style.setProperty("display","inline-flex"),w.style.setProperty("justify-content","center"),w.style.setProperty("align-items","center"),w.style.setProperty("width","var(--wrapper-size)"),w.style.setProperty("height","var(--wrapper-size)");var I="undefined"!==typeof navigator&&navigator.userAgent||"",x=!/chrome/i.test(I)&&/safari/i.test(I),j=/windows/i.test(I),L=/macintosh/i.test(I);switch(A){case e.EMOJI:var k=document.createElement("span");k.appendChild(document.createTextNode(S)),k.classList.add("gpf-biz-suite-custom-icon__icon-emoji"),k.style.setProperty("--icon-size","1em"),k.style.setProperty("font-size","var(--icon-size)"),k.style.setProperty("font-family","'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'Apple Color Emoji'"),(x||j)&&(x&&k.classList.add("safari"),j&&k.classList.add("windows"),k.style.setProperty("font-size","calc(var(--icon-size) - 2px)"),k.style.setProperty("translateY","-1px")),L&&(k.classList.add("mac"),k.style.setProperty("font-family","'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI'")),w.prepend(k),E=w;break;case e.ICON:var N=document.createElement("img");w.classList.add("custom-icon__icon-image"),N.setAttribute("src",S),N.classList.add("gpf-biz-suite-custom-icon__icon-image"),N.style.setProperty("--icon-size","1em"),N.style.setProperty("width","var(--icon-size)"),N.style.setProperty("height","var(--icon-size)"),w.prepend(N),w.prepend(document.createTextNode("\u200b")),E=w}T.prepend(E)}}}})),oS("ccm_docx_mention_dev",{action:"mention_doc_ssr_replace",total_count:s.size,hit_cache_count:c.size,total_instance_cnt:a.length,hit_cache_instance_cnt:u,cost_time:performance.now()-o})}}function l(e){var o="v2_mentiondoc_db_".concat(n),i="".concat(o,"/");try{var a=localStorage.getItem(i+function(e){if(!e)return e;for(var n=[],o=0;o<e.length;o++){var i=e.charCodeAt(o);i=49^Number(i),n.push(i.toString(25))}return n.join(r)}(e));if(a){var s=JSON.parse(a);return s&&s.title&&(s.title=function(e){if(!e)return e;var n=[];return e.split(r).forEach((function(e){var r=parseInt(e,25);r=49^Number(r),n.push(String.fromCharCode(r))})),n.join("")}(s.title)),s}return a}catch(c){return null}}function d(){var e,n,r=null===(e=window.User)||void 0===e?void 0:e.settingsConfig,o=null===r||void 0===r?void 0:r.biz_domain_config,i=null!==(n=null===o||void 0===o?void 0:o.reaction_bucket_prex)&&void 0!==n?n:[];return"".concat("https","://").concat(i[0]||"")}function p(e){try{var n=e.split("-").map((function(e){return parseInt(e,16)})),r="";return n.forEach((function(e){return r+=String.fromCodePoint(e)})),r}catch(hB){return""}}}()}catch(tt){}var Y=document.querySelector(".custom-icon.page-block-title-icon.ssr .gpf-biz-suite-custom-icon__icon-emoji");if(Y){var Z="undefined"!==typeof navigator&&navigator.userAgent||"";!/chrome/i.test(Z)&&/safari/i.test(Z)&&Y.classList.add("safari"),/windows/i.test(Z)&&Y.classList.add("windows"),/macintosh/i.test(Z)&&Y.classList.add("mac")}!function(){if(rS("ccm.docx.metadata_summary_ssr"))try{var e=document.querySelector(".doc-ai-summary-mount-point"),n=document.querySelector(".ssr-doc-info-group-summary");if(e){var r,o,i,a,s=null===(r=window.__HEADER_VARS__)||void 0===r?void 0:r.isEditingMode,c=null===(o=window.__HEADER_VARS__)||void 0===o?void 0:o.isRevisingMode,u=window?window.User&&window.User.userAgent:null;if(/FeishuRooms|LarkRooms/i.test(u)||null!==(i=location)&&void 0!==i&&null!==(a=i.search)&&void 0!==a&&a.includes("vc=true"))return;if(c||!rS("ccm.docx.metadata_summary"))return;if((s||"undefined"===typeof s)&&!rS("ccm.docx.metadata_summary.for.editor"))return;e.style.display="block",n&&(n.style.display="block")}}catch(hB){}}(),function(){var e,n=null===(e=window.__HEADER_VARS__)||void 0===e?void 0:e.hasEditPermission;window.isAISuggestionSidebarOpenOnBasedMode=n}();var G=$e(null===(r=window.SERVER_DATA)||void 0===r||null===(o=r.ccmCommonSetting)||void 0===o?void 0:o.catalogue_status)||"UNKNOWN",V=localStorage.getItem("DOCX_CATALOGUE_OPEN_STATUS");G=H&&"false"!==V?"open":"close",!0!==(null===(i=window.__opendoc_state__)||void 0===i||null===(a=i.featureConfig)||void 0===a||null===(s=a.DIRECTORY)||void 0===s?void 0:s.pin)&&!0!==(null===(c=window.User)||void 0===c||null===(u=c.docComponentConfig)||void 0===u||null===(l=u.extensions)||void 0===l||null===(d=l.directory)||void 0===d?void 0:d.pin)||(G="close");var Q=$e(null===(p=window.SERVER_DATA)||void 0===p||null===(f=p.ccmCommonSetting)||void 0===f?void 0:f.width_mode)||S,q=0,K=function(){var e,n,r,o,i,a;return!(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.comment)||void 0===i||null===(a=i.partial)||void 0===a||!a.disable)}();if("lark"===O)q=B&&function(){var e=window._commentPanelShownDefaultInLark;return void 0===e&&(e=Boolean(document.querySelector("#ssrBox.has-comment")||document.querySelector("#ssrMsgBox")),window._commentPanelShownDefaultInLark=e),e}()&&!K?e.COMMENT_SIDEBAR_WIDTH:0;else if(rS("ccm.docx.web.width_mode_optimization_enable")){var X,$,J=!function(){var e=window.innerWidth;return e>=440&&e<=540&&!!w}()&&(H&&"true"===localStorage.getItem("docCommentShown"));q=!K&&J&&null!==(X=window.SERVER_DATA)&&void 0!==X&&null!==($=X.ccmCommonSetting)&&void 0!==$&&$.has_unfinished_comment?e.COMMENT_SIDEBAR_WIDTH:0}e.debug&&console.log("is show comment in ssr",q);var ee=window?window.User&&window.User.userAgent:null,te=C?C.getBoundingClientRect().height:0,ne=!(null===(m=window.User)||void 0===m||!m.isFeedEnv),re=/FeishuRooms|LarkRooms/i.test(ee),oe=/feishu/i.test(ee)||/lark/i.test(ee),ie=(/vc=true/.test((location.search||"").toLowerCase())||oe&&/\sVC\//.test(ee))&&rS("ccm.docx.automatic_full_width_mode_in_vc");(ne&&B||Je()||re||ie)&&(Q="full");var ae=function(){var e,n,r,o,i;return!(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.directory)||void 0===i||!i.disable)}(),se=!A&&("open"===G||"NONE"===G||"UNKNOWN"===G)&&!ae&&!re&&!1!==(null===(h=window.__opendoc_state__)||void 0===h||null===(_=h.featureConfig)||void 0===_||null===(g=_.DIRECTORY)||void 0===g?void 0:g.enable)&&!0!==(null===(v=window.User)||void 0===v||null===(b=v.docComponentConfig)||void 0===b||null===(M=b.extensions)||void 0===M||null===(y=M.directory)||void 0===y?void 0:y.disable),ce=tS(e,{containerWidth:W,widthMode:Q,isViewEditors:!1,sideBarWidth:q,isShowCatalogue:se,isDocxWidthModeAnimationEnabled:F,isCardModeOrInIframe:U});if(N&&C&&(C.style.maxWidth="".concat(ce.catalogAreaWidth,"px"),N.style.top="".concat(0,"px")),x.classList.remove("docx-width-mode-standard","docx-width-mode-large","docx-width-mode-full"),"pc"===O||B){j.style.marginLeft="".concat(ce.contentCssMarginLeft,"px");var ue="docx-width-mode-".concat(Q);x.classList.add(ue),j.style.marginRight="".concat(ce.contentCssMarginRight,"px"),j.style.maxWidth={standard:"820px",full:"100%",large:"1020px"}[Q],j.style.paddingRight="0",j.style.paddingLeft="0"}ne&&(B&&(k.classList.add("docx-lark-catalog-enable"),x.classList.add("docx-lark-catalog-enable")),x.classList.add("docx-width-mode-full")),ee&&/Firefox/i.test(ee)&&k.classList.add("ssr-firefox"),R.length>0&&function(){var e=!1,n=document.querySelector("#ssrBox .root-render-unit-container>.render-unit-wrapper");if(n)for(var r=0;r<n.children.length;r++){var o=n.children[r];o instanceof HTMLElement&&((e||o.className.indexOf("defer-block")>-1||o.querySelector(".defer-block"))&&(o.style.visibility="hidden",e=!0))}}(),N&&se&&(N.style.visibility=""),x.style.visibility="";var le=performance.now();window.ssrPageLayoutCostTime=le-I;var de={};window[e.HYDRATE_SCROLL_LAYOUT]=de;var pe=k.getBoundingClientRect(),fe=L.getBoundingClientRect(),me=W>=540?e.PAGE_MAIN_PADDING:e.NARROW_PAGE_MAIN_PADDING,he="602"===new URL(window.location.href).searchParams.get("doc_app_id")?11:k.offsetWidth-k.clientWidth,_e=Je()?function(){var e,n,r,o,i,a;return(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.margin)||void 0===a?void 0:a.left)||0}():me,ge=Je()?function(){var e,n,r,o,i,a;return(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.margin)||void 0===a?void 0:a.right)||0}():me,ve=fe.left-pe.left-_e,be=pe.width-_e-ge-he,Me=F?ve:Math.round(Math.max(ve,0));if(D.length>0){window.blockSSRLayoutHelper.layoutTable({ssrBox:document.querySelector("#ssrBox"),calculateDimensions:function(){return{cWidth:be,margin:Me}},correctSyncedBlockNesting:!0,usePreciseMaxWidth:!1,handleShadow:!0,checkInBlock:et});var ye=performance.now();window.ssrTableLayoutCostTime=ye-le}if(z.length>0)for(var Ee=0;Ee<z.length;Ee++){var Te=z[Ee].getAttribute("data-record-id");Te&&(de[Te]={width:be,margin:Me})}if(P.length>0)for(var Oe=0;Oe<P.length;Oe++){var Ae=P[Oe],Se=Ae.getAttribute("data-record-id"),we=fe.left-pe.left-_e;if(Se){var Ie,xe=Ae.querySelector(".scrollable-wrapper"),je=Ae.querySelector(".scrollable-container"),Le=Ae.querySelector(".scrollable-item"),ke="gantt"===(null===(Ie=Ae.querySelector("[data-task-list-active-tab-view-type]"))||void 0===Ie?void 0:Ie.dataset.taskListActiveTabViewType);if(!xe||!je||!Le)continue;var Ne=et(Ae,"grid_column");if(Ne[0]){var Ce=Ne[1].getBoundingClientRect().width-4;xe.style.width="".concat(Ce,"px"),je.style.width="".concat(Ce,"px"),Le.style.maxWidth="".concat(Ce,"px");continue}var De=pe.width-_e-ge,Re=Math.round(Math.max(we,0));xe.style.width="".concat(De,"px"),xe.style.left="-".concat(Re,"px"),je.style.width="".concat(De,"px"),Le.style.minWidth="".concat(fe.width,"px"),Le.style.left=ke?"0px":"".concat(Re,"px")}}window.blockSSRLayoutHelper.layoutFileBlocks({containerSelector:"#ssrBox",editRect:fe,getMinDisplayHeight:function(){return 18},getMinDisplayWidth:function(){return 16},checkInBlock:et}),window.blockSSRLayoutHelper.layoutChartBlock(document.body,{theme:GA(),containerHeight:document.body.clientHeight,language:(null===(E=window.User)||void 0===E||null===(T=E.language)||void 0===T?void 0:T.split("-")[0])||"en",computeImgHeight:function(e,n){return e-("chart_embedded"===n?0:52)},getChartThumbnailUrl:function(e){var n=location.hostname;return"https://".concat(n,"/").concat(e)}}),window.blockSSRLayoutHelper.layoutWhiteboardBlock(document.body,{height:document.body.clientHeight,width:document.body.clientWidth}),window.blockSSRLayoutHelper.layoutFullscreenWhiteboard();for(var ze=document.querySelectorAll('#ssrBox [data-block-type="iframe"]'),Pe=0;Pe<ze.length;Pe++){var Ue=ze[Pe],Fe=Ue.querySelector(".iframe-alignable-container"),Be=Ue.querySelector(".iframe-container");if(Fe&&Be){if(null!==Be&&void 0!==Be&&Be.classList.contains("is-iframe-free-width")){var We=Ue.getBoundingClientRect(),He=q,Ye=pe.width-176-He,Ze=Math.min(parseFloat(Be.style.width),Ye);if(Be.style.maxWidth="".concat(Ye,"px"),Ze>We.width){var Ge=Ze-We.width;if(Fe.classList.contains("center")){var Ve=2*(pe.width-He+pe.left-We.right-Ge/2-88);Ve<0&&(Be.style.marginLeft="".concat(Ve,"px"))}else if(Fe.classList.contains("left")){var Qe=pe.width-He+pe.left-We.right-Ge-88;Qe<0&&(Be.style.marginLeft="".concat(Qe,"px"))}else if(Fe.classList.contains("right")){var qe=We.left-pe.left-Ge-88;qe<0&&(Be.style.marginRight="".concat(qe,"px"))}}}if(Be.classList.contains("is-width-aligned")){var Ke=Be.querySelector(".iframe-ssr-wrapper"),Xe=fe.width;Ke&&(Be.style.width="".concat(Xe,"px"),Ke.style.width="".concat(Xe,"px"))}}}console.log("ssr update layout(terminal ".concat(O,",widthMode ").concat(Q,",")+"isEmptyCatalog ".concat(A,",isShowCatalogue ").concat(se,"), top/innerWidth/widthLayout/catalogHeight"),0,W,ce,te)}function $e(e){return e&&"NONE"!==e&&"UNKNOWN"!==e&&e}function Je(){var e,n,r,o,i,a;return!(null===(e=window)||void 0===e||null===(n=e.User)||void 0===n||null===(r=n.docComponentConfig)||void 0===r||null===(o=r.extensions)||void 0===o||null===(i=o.content)||void 0===i||null===(a=i.margin)||void 0===a||!a.enable)}function et(e,n){for(var r=e;r.parentElement&&r!==k;){if(r.getAttribute("data-block-type")===n)return[!0,r];r=r.parentElement}return[!1,r]}};
  const config = {"AUTHOR_AREA_WIDTH":56,"CATALOGUE_MIN_WIDTH":36,"CATALOGUE_RESPONSE_END_WIDTH":800,"CATALOGUE_RESPONSE_MAX_WIDTH":265,"CATALOGUE_RESPONSE_MIN_WIDTH":144,"CATALOGUE_RESPONSE_WIKI_WIDTH":1000,"CATALOGUE_SM_RESPONSE_MAX_WIDTH":232,"CATALOGUE_ITEM_PADDING_BOTTOM":8,"CATALOGUE_UL_PADDING_BOTTOM":50,"CATALOGUE_PIN_HEIGHT":40,"COMMENT_SIDEBAR_WIDTH":295,"SUGGESTION_SIDEBAR_WIDTH":341,"HELP_SIDEBAR_FULL_WIDTH":313,"EDITOR_LEFT_WIDTH":62,"EDITOR_RIGHT_WIDTH":32,"EDITOR_NORMAL_WIDTH":730,"EDITOR_NORMAL_WIDTH_WITH_PADDING":794,"EDITOR_PADDING":32,"EDITOR_RESPONSE_START_WIDTH":1384,"PAGE_MAIN_PADDING":66,"NARROW_PAGE_MAIN_PADDING":44,"NARROW_PAGE_ROOMS_MAIN_PADDING":24,"WEB_HEADER_HEIGHT":64,"CHILDREN_PADDING":25,"HYDRATE_SCROLL_LAYOUT":"HYDRATE_SCROLL_LAYOUT","WIDTH_MODE_STANDARD":"standard","WIDTH_MODE_FULL":"full","WIDTH_MODE_LARGE":"large","CATALOGUE_MAX_UNFOLD_WIDTH":236.5,"EDITOR_MIN_EXTRUDING_WIDTH":520,"EDITOR_MIN_EXTRUDING_WIDTH_ORIGINAL":520,"EDITOR_MIN_EXTRUDING_WIDTH_PHOENIX":582,"PAGE_MAIN_COMMENT_BUBBLE_WIDTH":36,"debug":false};
  const props = {"terminal":"pc","isEmptyCatalog":false,"widthModeFromClientVar":"standard","isDisableExpandState":false};
  if ((window.catalogRecordInfo || {}).isEmptyCatalog !== undefined) {
    props.isEmptyCatalog = (window.catalogRecordInfo || {}).isEmptyCatalog;
  }
  config.debug = XA(window.localStorage);
  iS(config, props);
  
                })();
                (function (){
                  
                }())
                console.log('ssr layout done, terminal=pc, emptyCatalog=', catalogRecordInfo.isEmptyCatalog);
              })();
            </script></div>
</body>
</html>
