{
  "meta": {
    "categories": [
      "packagers",
      "security",
      "misc",
      "flow",
      "hardening",
      "obfuscation",
      "ui",
      "deploy"
    ],
    "skipRisk": [
      "low",
      "medium",
      "high",
      "unknown"
    ],
    "requirements": [
      "host",
      "docker",
      "root"
    ]
  },
  "tests": [
    {
      "name": "thin",
      "category": "packagers",
      "parallel": true,
      "description": "Builds and runs thin packager (core flow, runtime + integrity).",
      "skipRisk": "high",
      "failHint": "Check toolchain (cc/pkg-config/libzstd) and thin build logs.",
      "script": "tools/seal/seal/scripts/test-thin-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "thin-anti-debug",
      "category": "security",
      "parallel": true,
      "description": "Validates anti-debug and hardening probes around thin runtime.",
      "skipRisk": "high",
      "failHint": "Check ptrace/perf/bpf tooling and strict env flags.",
      "script": "tools/seal/seal/scripts/test-thin-anti-debug-e2e.js",
      "hostOnly": true,
      "requirements": [
        "host"
      ]
    },
    {
      "name": "thin-anti-debug-dump",
      "category": "security",
      "parallel": true,
      "description": "Validates real runtime dump behavior (gcore/external dumps).",
      "skipRisk": "high",
      "failHint": "Check gcore/gdb or SEAL_E2E_DUMP_CMD and SEAL_E2E_REAL_DUMP.",
      "script": "tools/seal/seal/scripts/test-thin-anti-debug-dump-e2e.js",
      "hostOnly": true,
      "requirements": [
        "host"
      ]
    },
    {
      "name": "legacy-packagers",
      "category": "packagers",
      "parallel": true,
      "description": "Covers legacy packagers (bundle/SEA) compatibility and runtime.",
      "skipRisk": "medium",
      "failHint": "Check postject/SEA tooling and packager availability.",
      "script": "tools/seal/seal/scripts/test-legacy-packagers-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "compat",
      "category": "misc",
      "parallel": true,
      "description": "Checks packager compatibility (sentinel/strip/elfPacker) via config explain.",
      "skipRisk": "low",
      "failHint": "Verify config explain output and packager gating.",
      "script": "tools/seal/seal/scripts/test-compat-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "completion",
      "category": "misc",
      "parallel": true,
      "description": "Checks CLI bash completion output and target discovery.",
      "skipRisk": "low",
      "failHint": "Check bash availability and completion script output.",
      "script": "tools/seal/seal/scripts/test-completion-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "install",
      "category": "misc",
      "parallel": false,
      "description": "Runs install.sh in a clean HOME and verifies seal + bash completion.",
      "skipRisk": "medium",
      "failHint": "Check install.sh logs, apt availability, and completion output.",
      "script": "tools/seal/seal/scripts/test-install-e2e.js",
      "hostOnly": false,
      "requirements": [
        "docker",
        "root"
      ]
    },
    {
      "name": "user-flow",
      "category": "flow",
      "parallel": false,
      "description": "Exercises end-to-end user flow (init/build/run/deploy style).",
      "skipRisk": "high",
      "failHint": "Check SSH/systemd readiness and example workspace.",
      "script": "tools/seal/seal/scripts/test-user-flow-e2e.js",
      "hostOnly": true,
      "requirements": [
        "host"
      ]
    },
    {
      "name": "sentinel",
      "category": "security",
      "parallel": true,
      "description": "Verifies sentinel install/verify paths and hardware IDs.",
      "skipRisk": "high",
      "failHint": "Check root access, /etc/machine-id, and host device IDs.",
      "script": "tools/seal/seal/scripts/test-sentinel-e2e.js",
      "hostOnly": true,
      "requirements": [
        "host"
      ]
    },
    {
      "name": "protection",
      "category": "hardening",
      "parallel": true,
      "description": "Validates protection features (guards, modes, checks).",
      "skipRisk": "high",
      "failHint": "Check kernel/ptrace settings and protection config.",
      "script": "tools/seal/seal/scripts/test-protection-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "obfuscation",
      "category": "obfuscation",
      "parallel": true,
      "description": "Tests JS/C obfuscation pipeline and runtime behavior.",
      "skipRisk": "medium",
      "failHint": "Check obfuscator tools and build logs.",
      "script": "tools/seal/seal/scripts/test-obfuscation-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "strip",
      "category": "hardening",
      "parallel": true,
      "description": "Verifies strip/ELF cleanup rules and runtime smoke.",
      "skipRisk": "medium",
      "failHint": "Check strip tool and ELF expectations.",
      "script": "tools/seal/seal/scripts/test-strip-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "elf-packers",
      "category": "hardening",
      "parallel": true,
      "description": "Validates ELF packers (upx/kiteshield/midgetpack) and runtime.",
      "skipRisk": "medium",
      "failHint": "Check packer availability and settings.",
      "script": "tools/seal/seal/scripts/test-elf-packers-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "c-obfuscators",
      "category": "obfuscation",
      "parallel": true,
      "description": "Tests C obfuscator variants and runtime checks.",
      "skipRisk": "medium",
      "failHint": "Check C++ toolchain and obfuscator binaries.",
      "script": "tools/seal/seal/scripts/test-c-obfuscators-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "postject",
      "category": "misc",
      "parallel": true,
      "description": "Ensures postject/SEA injection workflow is functional.",
      "skipRisk": "medium",
      "failHint": "Check postject availability and SEA metadata.",
      "script": "tools/seal/seal/scripts/test-postject-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "example-ui",
      "category": "ui",
      "parallel": false,
      "description": "Verifies example UI flow (build/run/playwright).",
      "skipRisk": "medium",
      "failHint": "Check Playwright browsers and port availability.",
      "script": "tools/seal/seal/scripts/test-example-ui-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "decoy",
      "category": "obfuscation",
      "parallel": true,
      "description": "Validates decoy file installation and collision handling.",
      "skipRisk": "low",
      "failHint": "Check decoy config and output integrity.",
      "script": "tools/seal/seal/scripts/test-decoy-e2e.js",
      "hostOnly": false,
      "requirements": []
    },
    {
      "name": "ship",
      "category": "deploy",
      "parallel": false,
      "description": "Covers ship/deploy flow (bootstrap and SSH).",
      "skipRisk": "high",
      "failHint": "Check SSH, sudo, and target config.",
      "script": "tools/seal/seal/scripts/test-ship-e2e.js",
      "hostOnly": true,
      "requirements": [
        "host"
      ]
    }
  ]
}
